(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a39260a4"],{"0c6b":function(t,s,e){"use strict";var a=e("0caa"),i=e.n(a);i.a},"0caa":function(t,s,e){},"9dd3":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("article-detail",{attrs:{"is-edit":!0}})},i=[],o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"createPost-container"},[e("div",{staticClass:"createPost-main-container"},[e("divider",{attrs:{title:"订单信息"}}),t._v(" "),e("div",{staticClass:"ant-card"},[e("div",{staticClass:"ant-card-body"},[e("div",{staticClass:"descriptionList"},[e("div",{staticClass:"title"},[t._v("订单基本信息")]),t._v(" "),e("div",{staticClass:"ant-row"},[e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("订单编号:")]),t._v(" "),e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.order_no))])]),t._v(" "),e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("订单状态:")]),t._v(" "),e("div",{staticClass:"detail"},[t._v(t._s(t._f("statusText")(t.postForm.status)))])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("下单时间:")]),t._v(" "),e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.create_time))])])])])])]),t._v(" "),e("div",{staticClass:"ant-card"},[e("div",{staticClass:"ant-card-body"},[e("div",{staticClass:"descriptionList"},[e("div",{staticClass:"title"},[t._v("收货信息")]),t._v(" "),1===t.postForm.isadd?e("div",{staticClass:"ant-row"},[e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("收货人姓名:")]),t._v(" "),t.postForm.address.userName?e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.address.userName))]):t._e()]),t._v(" "),e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("收货人电话:")]),t._v(" "),t.postForm.address?e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.address.phone))]):t._e()]),t._v(" "),e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("收货地址:")]),t._v(" "),t.postForm.address?e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.address.areaMsg))]):t._e()])]):e("div",{staticClass:"ant-row"},[t._m(2)])])])]),t._v(" "),e("div",{staticClass:"ant-card"},[e("div",{staticClass:"ant-card-body"},[e("div",{staticClass:"descriptionList"},[e("div",{staticClass:"title"},[t._v("发货物流信息")]),t._v(" "),e("div",{staticClass:"ant-row"},[t.postForm.status>2?e("div",[e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("物流公司:")]),t._v(" "),t.postForm.get_courier?e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.get_courier.courier.label))]):t._e()]),t._v(" "),e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("物流单号:")]),t._v(" "),e("div",{staticClass:"detail"},[t.postForm.get_courier?e("span",[t._v(t._s(t.postForm.get_courier.out_courier_no))]):t._e()])]),t._v(" "),e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("发货时间:")]),t._v(" "),t.postForm.get_courier?e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.get_courier.create_time))]):t._e()]),t._v(" "),e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("物流状态:")]),t._v(" "),t.postForm.logis?e("div",{staticClass:"detail"},[t._v(t._s(t.postForm.logis.AcceptStation))]):t._e()])]):e("div",[e("logis",{attrs:{order_id:t.postForm.id},on:{onCourier:t.onCourier}})],1)])])])]),t._v(" "),e("divider",{attrs:{title:"商品信息"}}),t._v(" "),t.postForm.get_goods?e("div",{staticClass:"goods-info"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.postForm.get_goods,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"",label:"商品图片",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticClass:"img",attrs:{src:t.row.images_url}})]}}],null,!1,415267691)}),t._v(" "),e("el-table-column",{attrs:{prop:"name",align:"center",label:"商品名称",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"price",align:"center",label:"商品价格"}}),t._v(" "),e("el-table-column",{attrs:{prop:"num",align:"center",label:"商品数量"}}),t._v(" "),e("el-table-column",{attrs:{prop:"suk_name",align:"center",label:"商品属性"}})],1)],1):t._e(),t._v(" "),e("divider",{attrs:{title:"资金情况"}}),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"goods-info"},[e("div",{staticClass:"head-info"},[t._v(t._s(t.postForm.totalPrice))]),t._v(" "),e("div",{staticClass:"head-info"},[t._v(t._s(t.postForm.freight))]),t._v(" "),e("div",{staticClass:"head-info"},[t.postForm.get_user_coupon?e("span",[t._v(t._s(t.postForm.get_user_coupon.get_counpon.sub_price))]):e("span",[t._v("未使用优惠卷")])]),t._v(" "),e("div",{staticClass:"head-info"},[t.postForm.get_user_coupon?e("span",[t._v(t._s(t.postForm.get_user_coupon.get_counpon.sub_price)+"元优惠卷")]):e("span",[t._v("未使用优惠卷")])]),t._v(" "),e("div",{staticClass:"head-info"},[t._v(t._s(t.postForm.totalPrice))]),t._v(" "),e("div",{staticClass:"head-info"},[t._v(t._s(t._f("statusText")(t.postForm.status)))])]),t._v(" "),t.postForm.status>4?e("div",[e("divider",{attrs:{title:"结算信息"}}),t._v(" "),t._m(4),t._v(" "),e("div",{staticClass:"goods-info"},[e("div",{staticClass:"head-info"},[5===t.postForm.status?e("span",[t._v("等待结算")]):t._e(),t._v(" "),6===t.postForm.status?e("span",[t._v("结算成功")]):t._e()]),t._v(" "),e("div",{staticClass:"head-info"},[5===t.postForm.status?e("el-input",{attrs:{placeholder:"请输入违约金额"},model:{value:t.postForm.default_price,callback:function(s){t.$set(t.postForm,"default_price",s)},expression:"postForm.default_price"}}):e("span",[t._v(t._s(t.postForm.default_price))])],1),t._v(" "),e("div",{staticClass:"head-info"},[5===t.postForm.status?e("el-input",{attrs:{placeholder:"请输入赔偿金额"},model:{value:t.postForm.com_price,callback:function(s){t.$set(t.postForm,"com_price",s)},expression:"postForm.com_price"}}):e("span",[t._v(t._s(t.postForm.com_price))])],1),t._v(" "),e("div",{staticClass:"head-info"},[t.postForm.close_time?e("span",[t._v(t._s(t._f("parseTime")(t.postForm.close_time,"{y}-{m}-{d}")))]):t._e()]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("*若出具赔偿金额和违约金额为0时，平台将自动推进该订单至完结，并立即退还用户全部押金！")])]),t._v(" "),5===t.postForm.status?e("el-button",{attrs:{plain:"",size:"medium"},on:{click:t.Settlement}},[t._v("确认结算")]):t._e()],1):t._e()],1)])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("发货方式:")]),t._v(" "),e("div",{staticClass:"detail"},[t._v("未发货")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("租用时间:")]),t._v(" "),e("div",{staticClass:"detail"},[t._v("1000001503297560")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ant-col-md-8"},[e("div",{staticClass:"term"},[t._v("取货店铺:")]),t._v(" "),e("div",{staticClass:"detail"},[t._v("11")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods-heade"},[e("div",{staticClass:"head-info"},[t._v("实付金额")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("运费")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("优惠金额")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("优惠卷名称")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("订单总金额")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("订单状态")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods-heade"},[e("div",{staticClass:"head-info"},[t._v("结算状态")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("损坏金额")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("赔偿金额")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("结算时间")]),t._v(" "),e("div",{staticClass:"head-info"},[t._v("备注")])])}],c=e("b804"),n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"divider"},[e("div",{staticClass:"b"},[t._v("  ")]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(t.title))])])},l=[],d={name:"Divider",props:{title:String}},v=d,_=(e("0c6b"),e("2877")),u=Object(_["a"])(v,n,l,!1,null,"4378119c",null),m=u.exports,p=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-row",[e("el-col",{attrs:{span:6}},[e("el-select",{attrs:{filterable:"",placeholder:"选择快递公司"},model:{value:t.form.courier_id,callback:function(s){t.$set(t.form,"courier_id",s)},expression:"form.courier_id"}},t._l(t.op,(function(t){return e("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1)],1),t._v(" "),e("el-col",{attrs:{span:6}},[e("el-input",{attrs:{placeholder:"输入订单号"},model:{value:t.form.out_courier_no,callback:function(s){t.$set(t.form,"out_courier_no",s)},expression:"form.out_courier_no"}})],1),t._v(" "),e("el-col",{attrs:{span:6}},[e("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary"},on:{click:t.onCourier}},[t._v("保存")])],1)],1)],1)},f=[],C=(e("c5f6"),e("a22c")),h={name:"logis",props:{order_id:Number},data:function(){return{form:{},op:[]}},created:function(){var t=this;Object(C["a"])().then((function(s){console.log(s),t.op=s.data}))},methods:{onCourier:function(){this.$emit("onCourier",this.form)}}},b=h,F=Object(_["a"])(b,p,f,!1,null,"26915fde",null),g=F.exports,y=e("f8b7"),O=(e("ed08"),{name:"Detail",components:{Divider:m,logis:g,Sticky:c["a"]},props:{isEdit:{type:Boolean,default:!1}},filters:{calculate:function(t){return t},statusText:function(t){var s={1:"未支付",2:"待商家发货",3:"已发货",4:"已取消",5:"已收货"};return s[t]}},data:function(){return{kd:[{value:"ANXL",label:"安迅物流"},{value:"AJWL",label:"安捷物流"},{value:"AJWL",label:"安捷物流"}],postForm:{}}},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetchData(t)}else this.postForm=Object.assign({},defaultForm)},methods:{Settlement:function(){var t=this,s=this.$createElement,e=this.postForm.get_goods.deposit-this.postForm.com_price-this.postForm.default_price,a="请谨慎操作，确认后扣除赔偿金"+this.postForm.com_price+" 损坏金额"+this.postForm.default_price+"元。    将退还用户:"+e+"元押金";this.$msgbox({title:"谨慎操作",message:s("p",null,[s("span",{style:"color: red"},a)]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(s,e,a){if("confirm"===s){var i={id:t.postForm.id,com_price:t.postForm.com_price,default_price:t.postForm.default_price};Object(y["f"])(i).then((function(t){console.log(t)})),console.log("结算成功")}else a()}}).then((function(s){t.$message({type:"info",message:"action: "+s})}))},onCourier:function(t){var s=this;t.order_id=this.postForm.id,Object(y["e"])(t).then((function(t){console.log(t),s.fetchData(s.postForm.id)})),this.$notify({title:"成功",message:"更新订单成功",type:"success"})},fetchData:function(t){var s=this;Object(y["c"])(t).then((function(t){s.postForm=t.data,console.log(s.postForm)}))}}}),$=O,j=(e("d1c1"),Object(_["a"])($,o,r,!1,null,"2bdc9b2f",null)),w=j.exports,x={name:"EditForm",components:{ArticleDetail:w}},k=x,D=Object(_["a"])(k,a,i,!1,null,null,null);s["default"]=D.exports},a22c:function(t,s,e){"use strict";e.d(s,"b",(function(){return i})),e.d(s,"a",(function(){return o})),e.d(s,"d",(function(){return r})),e.d(s,"c",(function(){return c}));var a=e("b775");function i(t){return Object(a["a"])({url:"/courier/getDataByDetail",method:"get",params:t})}function o(){return Object(a["a"])({url:"/courier/all",method:"get"})}function r(t){return Object(a["a"])({url:"/courier/postDataByAdd",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/courier/getIdByDel",method:"get",params:{id:t}})}},d1c1:function(t,s,e){"use strict";var a=e("f820"),i=e.n(a);i.a},f820:function(t,s,e){},f8b7:function(t,s,e){"use strict";e.d(s,"b",(function(){return i})),e.d(s,"a",(function(){return o})),e.d(s,"d",(function(){return r})),e.d(s,"c",(function(){return c})),e.d(s,"e",(function(){return n})),e.d(s,"f",(function(){return l}));var a=e("b775");function i(t){return Object(a["a"])({url:"/order/GetDataByList",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/order/GetBuyoutByList",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/order/PostDataByCancel",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/order/GetIdByDetails",method:"get",params:{id:t}})}function n(t){return Object(a["a"])({url:"/order/postCourier",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/order/postOrderClose",method:"post",data:t})}}}]);